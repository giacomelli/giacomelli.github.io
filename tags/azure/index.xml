<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
 <title>Diego Giacomelli - azure</title>
 <link href="//tags/azure/index.xml" rel="self"/>
 <link href="/tag/azure.html"/>
 <updated>2023-12-03T11:04:50-03:00</updated>
 <id>/tag/azure.html</id>
 <author>
   <name>Diego Giacomelli</name>
 </author>
 
 <entry>
   <title>Microsoft Certified&colon; Azure Fundamentals</title>
   <link href="//microsoft-certified-azure-fundamentals/"/>
   <updated>2023-12-01T00:00:00-03:00</updated>
   <id>//microsoft-certified-azure-fundamentals</id>
   <content type="html">
&lt;p&gt;I’ve been working with Azure for years, but I had never stopped trying an official Microsoft certification until last month and after a month of studies, yesterday (30/11/2023) &lt;strong&gt;I successfully passed the exam for the &lt;a href=&quot;https://learn.microsoft.com/en-us/users/giacomelli/credentials/e58521b3d1420cef&quot;&gt;Microsoft Certified: Azure Fundamentals (AZ-900)&lt;/a&gt;&lt;/strong&gt;.&lt;/p&gt;

&lt;center&gt;                
        &lt;picture&gt;
  &lt;source sizes=&quot;(max-width: 600px) 100vw, (max-width: 900px) 80vw, 800px&quot; srcset=&quot;/assets/images/generated/assets/2023/12/01/microsoft-certified-azure-fundamentals/certification-200-b6f170f33.webp 200w, /assets/images/generated/assets/2023/12/01/microsoft-certified-azure-fundamentals/certification-400-b6f170f33.webp 400w, /assets/images/generated/assets/2023/12/01/microsoft-certified-azure-fundamentals/certification-800-b6f170f33.webp 800w, /assets/images/generated/assets/2023/12/01/microsoft-certified-azure-fundamentals/certification-1267-b6f170f33.webp 1267w&quot; type=&quot;image/webp&quot; /&gt;
  &lt;source sizes=&quot;(max-width: 600px) 100vw, (max-width: 900px) 80vw, 800px&quot; srcset=&quot;/assets/images/generated/assets/2023/12/01/microsoft-certified-azure-fundamentals/certification-200-b6f170f33.png 200w, /assets/images/generated/assets/2023/12/01/microsoft-certified-azure-fundamentals/certification-400-b6f170f33.png 400w, /assets/images/generated/assets/2023/12/01/microsoft-certified-azure-fundamentals/certification-800-b6f170f33.png 800w, /assets/images/generated/assets/2023/12/01/microsoft-certified-azure-fundamentals/certification-1267-b6f170f33.png 1267w&quot; type=&quot;image/png&quot; /&gt;
  &lt;img class=&quot;screenshot&quot; src=&quot;/assets/images/generated/assets/2023/12/01/microsoft-certified-azure-fundamentals/certification-800-b6f170f33.png&quot; alt=&quot;post image&quot; width=&quot;1267&quot; height=&quot;564&quot; /&gt;
&lt;/picture&gt;

      &lt;/center&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;In the post below I talk a little about the certification and the resources I used to study. If you are also trying to take the exam, it might be helpful.&lt;/p&gt;

&lt;h2 id=&quot;what-is-az-900&quot;&gt;What is AZ-900?&lt;/h2&gt;
&lt;picture&gt;
  &lt;source sizes=&quot;(max-width: 600px) 100vw, (max-width: 900px) 80vw, 800px&quot; srcset=&quot;/assets/images/generated/assets/logos/problem-128-a3f91d933.webp 128w&quot; type=&quot;image/webp&quot; /&gt;
  &lt;source sizes=&quot;(max-width: 600px) 100vw, (max-width: 900px) 80vw, 800px&quot; srcset=&quot;/assets/images/generated/assets/logos/problem-128-a3f91d933.png 128w&quot; type=&quot;image/png&quot; /&gt;
  &lt;img class=&quot;icon&quot; src=&quot;/assets/images/generated/assets/logos/problem-128-a3f91d933.png&quot; alt=&quot;post image&quot; width=&quot;128&quot; height=&quot;128&quot; /&gt;
&lt;/picture&gt;

&lt;p&gt;I did some research into what the introductory Azure certification should be for a developer and found that &lt;a href=&quot;https://learn.microsoft.com/en-us/credentials/certifications/azure-fundamentals/&quot;&gt;Azure Fundamentals (AZ-900)&lt;/a&gt; was the common ground for any professional trying to start obtaining Azure Certifications. Once you have it, you can decide which path you want to take based on your role: administration, data science, development, devops, or networking.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Candidates for this exam are technology professionals who want to demonstrate foundational knowledge of cloud concepts in general and Azure in particular. This certification is a common starting point in a journey towards a career in Azure.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;what-skills-does-the-certification-measure&quot;&gt;What skills does the certification measure?&lt;/h2&gt;
&lt;picture&gt;
  &lt;source sizes=&quot;(max-width: 600px) 100vw, (max-width: 900px) 80vw, 800px&quot; srcset=&quot;/assets/images/generated/assets/logos/requirements-128-8b68e8c6b.webp 128w&quot; type=&quot;image/webp&quot; /&gt;
  &lt;source sizes=&quot;(max-width: 600px) 100vw, (max-width: 900px) 80vw, 800px&quot; srcset=&quot;/assets/images/generated/assets/logos/requirements-128-8b68e8c6b.png 128w&quot; type=&quot;image/png&quot; /&gt;
  &lt;img class=&quot;icon&quot; src=&quot;/assets/images/generated/assets/logos/requirements-128-8b68e8c6b.png&quot; alt=&quot;post image&quot; width=&quot;128&quot; height=&quot;128&quot; /&gt;
&lt;/picture&gt;

&lt;ul&gt;
  &lt;li&gt;Describe cloud concepts&lt;/li&gt;
  &lt;li&gt;Describe Azure architecture and services&lt;/li&gt;
  &lt;li&gt;Describe Azure management and governance&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;You can see more details about each topic on &lt;a href=&quot;https://learn.microsoft.com/en-us/credentials/certifications/resources/study-guides/az-900#skills-measured-prior-to-july-31-2023&quot;&gt;AZ-900 study guide&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&quot;learning-path&quot;&gt;Learning path&lt;/h2&gt;
&lt;picture&gt;
  &lt;source sizes=&quot;(max-width: 600px) 100vw, (max-width: 900px) 80vw, 800px&quot; srcset=&quot;/assets/images/generated/assets/logos/route-128-704e92446.webp 128w&quot; type=&quot;image/webp&quot; /&gt;
  &lt;source sizes=&quot;(max-width: 600px) 100vw, (max-width: 900px) 80vw, 800px&quot; srcset=&quot;/assets/images/generated/assets/logos/route-128-704e92446.png 128w&quot; type=&quot;image/png&quot; /&gt;
  &lt;img class=&quot;icon&quot; src=&quot;/assets/images/generated/assets/logos/route-128-704e92446.png&quot; alt=&quot;post image&quot; width=&quot;128&quot; height=&quot;128&quot; /&gt;
&lt;/picture&gt;

&lt;ul&gt;
  &lt;li&gt;It will be easier if you already have some experience with Azure.&lt;/li&gt;
  &lt;li&gt;Read the &lt;a href=&quot;https://learn.microsoft.com/en-us/credentials/certifications/azure-fundamentals&quot;&gt;certification page&lt;/a&gt;.&lt;/li&gt;
  &lt;li&gt;Microsoft created a series of learning paths for the AZ-900, each one covering the three main skills measured by the exam:
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;https://learn.microsoft.com/en-us/training/paths/microsoft-azure-fundamentals-describe-cloud-concepts&quot;&gt;Microsoft Azure Fundamentals: Describe cloud concepts&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://learn.microsoft.com/en-us/training/paths/azure-fundamentals-describe-azure-architecture-services&quot;&gt;Microsoft Azure Fundamentals: Describe Azure architecture and services&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://learn.microsoft.com/en-us/training/paths/describe-azure-management-governance/&quot;&gt;Microsoft Azure Fundamentals: Describe Azure management and governance&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;Another good source of knowledge for the AZ-900 is the online course &lt;a href=&quot;https://www.udemy.com/course/az900-azure/&quot;&gt;AZ-900: Microsoft Azure Fundamentals Exam Prep&lt;/a&gt; by Scott Duffy. I took the course myself and it is very useful to make information more clear. The more than 1 million students the course has are also a good sign of its quality.&lt;/li&gt;
  &lt;li&gt;If you are a Portuguese speaker, you can watch this series of videos from the &lt;a href=&quot;https://www.youtube.com/playlist?list=PLz3hnOImntANgM1EyWSGkY4v-7dhWURWt&quot;&gt;Canal da Cloud&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;cheking-your-knowledge&quot;&gt;Cheking your knowledge&lt;/h2&gt;
&lt;picture&gt;
  &lt;source sizes=&quot;(max-width: 600px) 100vw, (max-width: 900px) 80vw, 800px&quot; srcset=&quot;/assets/images/generated/assets/logos/test-128-7afecab50.webp 128w&quot; type=&quot;image/webp&quot; /&gt;
  &lt;source sizes=&quot;(max-width: 600px) 100vw, (max-width: 900px) 80vw, 800px&quot; srcset=&quot;/assets/images/generated/assets/logos/test-128-7afecab50.png 128w&quot; type=&quot;image/png&quot; /&gt;
  &lt;img class=&quot;icon&quot; src=&quot;/assets/images/generated/assets/logos/test-128-7afecab50.png&quot; alt=&quot;post image&quot; width=&quot;128&quot; height=&quot;128&quot; /&gt;
&lt;/picture&gt;

&lt;p&gt;The Scott Duffy course has a 50 questions test to validate your knowledge.&lt;/p&gt;

&lt;p&gt;Microsoft also has the &lt;a href=&quot;https://learn.microsoft.com/en-us/credentials/certifications/exams/az-900/practice/assessment?assessment-type=practice&amp;amp;assessmentId=23&quot;&gt;Practice Assessment for Exam AZ-900: Microsoft Azure Fundamentals&lt;/a&gt;: a test with 50 questions simulating the questions that can be in the exam. The nice thing about it is that you can check your answer and it will explaining the correct answer and point to the official documentation where you can learn more. My advice is to take some rounds of this practice assessment, because each time a small percentage of the questions are different from the previous one.&lt;/p&gt;

&lt;h2 id=&quot;taking-the-exam&quot;&gt;Taking the exam&lt;/h2&gt;
&lt;picture&gt;
  &lt;source sizes=&quot;(max-width: 600px) 100vw, (max-width: 900px) 80vw, 800px&quot; srcset=&quot;/assets/images/generated/assets/logos/challenge-128-2cdd65c40.webp 128w&quot; type=&quot;image/webp&quot; /&gt;
  &lt;source sizes=&quot;(max-width: 600px) 100vw, (max-width: 900px) 80vw, 800px&quot; srcset=&quot;/assets/images/generated/assets/logos/challenge-128-2cdd65c40.png 128w&quot; type=&quot;image/png&quot; /&gt;
  &lt;img class=&quot;icon&quot; src=&quot;/assets/images/generated/assets/logos/challenge-128-2cdd65c40.png&quot; alt=&quot;post image&quot; width=&quot;128&quot; height=&quot;128&quot; /&gt;
&lt;/picture&gt;

&lt;p&gt;If you feel prepare to take the exam, you can schedule it with &lt;a href=&quot;https://go.microsoft.com/fwlink/?linkid=2188912&quot;&gt;Pearson VUE&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Good luck!&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Azure Utility Belt&colon; Azure Diagrams</title>
   <link href="//azure-utility-belt-azure-diagrams/"/>
   <updated>2023-11-09T00:00:00-03:00</updated>
   <id>//azure-utility-belt-azure-diagrams</id>
   <content type="html">&lt;p&gt;I decided to start a &lt;a href=&quot;/tags/azure-utility-belt/&quot;&gt;series of posts&lt;/a&gt; about some Azure resources and tools that are very useful to have in our Azure Utility Belt.&lt;/p&gt;

&lt;p&gt;For this first post, the chosen one is the &lt;strong&gt;&lt;a href=&quot;https://azurediagrams.com/&quot;&gt;Azure Diagrams&lt;/a&gt;&lt;/strong&gt; by &lt;a href=&quot;https://www.linkedin.com/in/shaneochotny/&quot;&gt;Shane Ochotny&lt;/a&gt;, &lt;a href=&quot;https://www.linkedin.com/in/harshasks/&quot;&gt;Harsha Konduri&lt;/a&gt;, and &lt;a href=&quot;https://www.linkedin.com/in/bretamyers/&quot;&gt;Bret Myers&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&quot;introduction&quot;&gt;Introduction&lt;/h2&gt;
&lt;p&gt;Azure Diagram is:&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;an architecture advisor tool that enables you to design diagrams in a collaborative manner and provides guidance on which Azure services can be integrated and when they should be utilized in your architecture.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;It’s amazing how easy it is to create Azure related diagrams in this tool, it’s all there and you can even see which services integrate with each other. Each item in the diagram already has a link to the documentation page, also a link to the price estimate page.&lt;/p&gt;

&lt;p&gt;Using it you have a much better flow for creating diagrams than using a generic tool that knows nothing about Azure services.&lt;/p&gt;

&lt;center&gt;                
        &lt;img class=&quot;screenshot&quot; src=&quot;/assets/2023/11/09/azure-utility-belt-azure-diagrams/azure-diagrams.gif &quot; alt=&quot;post image&quot; /&gt;
      &lt;/center&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h2 id=&quot;usage&quot;&gt;Usage&lt;/h2&gt;
&lt;p&gt;For now it is completely free to use, so just create you account at https://azurediagrams.com and enjoy it.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Azure Pipelines - Generating DB Script with SqlPackage.exe</title>
   <link href="//azure-pipelines-generating-db-script/"/>
   <updated>2019-12-17T00:00:00-03:00</updated>
   <id>//azure-pipelines-generating-db-script</id>
   <content type="html">&lt;p&gt;Recently I needed to automate the generation of a database script deploy from a SQL Server Database Project on our Azure Pipelines continuous integration. Below I will describe the steps to achieve such thing.&lt;/p&gt;

&lt;h2 id=&quot;building-the-solution&quot;&gt;Building the solution&lt;/h2&gt;
&lt;p&gt;A SQL Server Database Project has a solution (.sln) as any other kind of Visual Studio projects and we need to build it to generate our &lt;a href=&quot;https://docs.microsoft.com/en-us/sql/relational-databases/data-tier-applications/data-tier-applications?view=sql-server-ver15&quot;&gt;DACPAC&lt;/a&gt;.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;A data-tier application (DAC) is a logical database management entity that defines all of the SQL Server objects - like tables, views, and instance objects, including logins - associated with a user’s database. A DAC is a self-contained unit of SQL Server database deployment that enables data-tier developers and database administrators to package SQL Server objects into a portable artifact called a DAC package, also known as a DACPAC&lt;/p&gt;
&lt;/blockquote&gt;

&lt;script src=&quot;https://gist.github.com/30d0b7c0a3e803cb71ce4b1680d2a584.js?file=solution-build.yml&quot;&gt; &lt;/script&gt;

&lt;blockquote&gt;
  &lt;p&gt;The variables used in the script portions are described in the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Complete azure-pipelines.yml&lt;/code&gt; in the end of this post&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;generating-the-sql-script&quot;&gt;Generating the .sql script&lt;/h2&gt;
&lt;p&gt;With our .dacpac file built, now we need to generate our .sql database script. To perform this operation we need the &lt;a href=&quot;https://docs.microsoft.com/en-us/sql/tools/sqlpackage?view=sql-server-ver15&quot;&gt;sqlpackage.exe&lt;/a&gt;, this command-line is available in some Azure Pipelines images, as &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;vs2017-win2016&lt;/code&gt;, so you need to use it on your &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;azure-pipelines.yml&lt;/code&gt; file:&lt;/p&gt;

&lt;script src=&quot;https://gist.github.com/30d0b7c0a3e803cb71ce4b1680d2a584.js?file=image.yml&quot;&gt; &lt;/script&gt;

&lt;p&gt;Add the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;CmdLine&lt;/code&gt; task below to generate the .sql database script:
&lt;script src=&quot;https://gist.github.com/30d0b7c0a3e803cb71ce4b1680d2a584.js?file=db-script-generate.yml&quot;&gt; &lt;/script&gt;&lt;/p&gt;

&lt;h2 id=&quot;publishing-the-sql-script&quot;&gt;Publishing the .sql script&lt;/h2&gt;
&lt;p&gt;Now we need to publish the .sql file to the build artifacts:
&lt;script src=&quot;https://gist.github.com/30d0b7c0a3e803cb71ce4b1680d2a584.js?file=db-script-publish.yml&quot;&gt; &lt;/script&gt;&lt;/p&gt;

&lt;h2 id=&quot;complete-azure-pipelinesyml&quot;&gt;Complete azure-pipelines.yml&lt;/h2&gt;
&lt;script src=&quot;https://gist.github.com/30d0b7c0a3e803cb71ce4b1680d2a584.js?file=azure-pipelines.yml&quot;&gt; &lt;/script&gt;

&lt;h2 id=&quot;extra-points&quot;&gt;Extra points&lt;/h2&gt;
&lt;p&gt;In the approach described above the .sql files is not automatically applied to the database, so someone need to download, check and apply the file manually against the target database. If you want to apply the database script automatically you can change &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;CmdLine&lt;/code&gt; task that generate the .sql file to update the target database using the &lt;a href=&quot;https://docs.microsoft.com/en-us/sql/tools/sqlpackage?view=sql-server-ver15#publish-parameters-properties-and-sqlcmd-variables&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;action:publish&lt;/code&gt; option of sqlpackage.exe&lt;/a&gt;.&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>Can I send batch messages larger than 256 KB to Azure Service Bus?</title>
   <link href="//can-i-send-batch-messages-larger-than-256-kb-to-azure-service-bus/"/>
   <updated>2019-08-13T00:00:00-03:00</updated>
   <id>//can-i-send-batch-messages-larger-than-256-kb-to-azure-service-bus</id>
   <content type="html">&lt;h2 id=&quot;the-short-answer&quot;&gt;The short answer&lt;/h2&gt;
&lt;p&gt;NO!&lt;/p&gt;

&lt;h2 id=&quot;the-long-answer&quot;&gt;The long answer&lt;/h2&gt;
&lt;p&gt;The Azure Service Bus maximum message size is 256 KB for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Standard tier&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;1 MB&lt;/code&gt; for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Premium tier&lt;/code&gt; (&lt;a href=&quot;https://docs.microsoft.com/azure/service-bus-messaging/service-bus-quotas&quot;&gt;https://docs.microsoft.com/azure/service-bus-messaging/service-bus-quotas&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;A simple solution to overcome this limitation is split the messages in blocks lower or equal to 256 KB size.&lt;/p&gt;

&lt;p&gt;Below is a simplified version of the code that I used for Standard tier  case:&lt;/p&gt;

&lt;script src=&quot;https://gist.github.com/ed0d6eb6a8457eabed916e86c369c56c.js&quot;&gt; &lt;/script&gt;

</content>
 </entry>
 
 <entry>
   <title>Publishing WebJobs with Azure Pipelines</title>
   <link href="//publishing-webjobs-with-azure-pipelines/"/>
   <updated>2019-05-29T00:00:00-03:00</updated>
   <id>//publishing-webjobs-with-azure-pipelines</id>
   <content type="html">&lt;p&gt;&lt;a href=&quot;https://docs.microsoft.com/en-US/azure/app-service/webjobs-sdk-get-started&quot;&gt;Azure WebJobs&lt;/a&gt; are a great way to execute background process.&lt;/p&gt;

&lt;h2 id=&quot;scenario&quot;&gt;Scenario&lt;/h2&gt;
&lt;p&gt;In last days I’ve created a &lt;a href=&quot;https://azure.microsoft.com/pt-br/services/devops/pipelines/&quot;&gt;Azure Pipelines&lt;/a&gt; that publish WebJobs, but in our specific case our WebJobs were not being published to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/site/wwwroot/App_Data/jobs/Continuous/&amp;lt;webjobs name&amp;gt;&lt;/code&gt;, because “reasons” our root web app is using ‘/site/www’ as folder. So, you should expect that the new folder to deploy WebJobs is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/site/www/App_Data/jobs/Continuous/&amp;lt;webjobs name&amp;gt;&lt;/code&gt;, but &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;NO&lt;/code&gt;, the new folder is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/site/jobs/Continuous/&amp;lt;webjobs name&amp;gt;&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;The big problem with the above behaviour is that &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;WebDeploy&lt;/code&gt; via VS or  &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;AzureRmWebAppDeployment&lt;/code&gt; task via Azure Pipeline will still try to deploy the webjobs to the folder inside &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/site/www/&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;My best suspects are these lines on &lt;a href=&quot;https://github.com/microsoft/azure-pipelines-tasks/blob/master/Tasks/AzureRmWebAppDeploymentV3/azurermwebappdeployment.ts#L73&quot;&gt;AzureRmWebAppDeployment@3&lt;/a&gt;
&lt;script src=&quot;https://gist.github.com/1d47b7bf7e9a2b3806dbd0b0332743d2.js?file=AzureRmWebAppDeployment-lines.ts&quot;&gt; &lt;/script&gt;&lt;/p&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;AzureRmWebAppDeployment&lt;/code&gt; just check the physical path configured on Azure when we defined a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;VirtualApplicatoin&lt;/code&gt; parameter, but in our case it is not a virtual application, but it is a different folder than &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/site/wwwroot/&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;externalref&quot;&gt;&lt;p&gt;in &lt;a href=&quot;https://github.com/projectkudu/kudu/wiki/WebJobs&quot;&gt;Kudu wiki&lt;/a&gt; there is some explanation about the webjobs folders.&lt;/p&gt;
&lt;/div&gt;

&lt;h2 id=&quot;solution&quot;&gt;Solution&lt;/h2&gt;
&lt;p&gt;I used the FtpUpload task to publish the WebJobs binaries to the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/site/jobs/Continuous/&amp;lt;webjobs name&amp;gt;&lt;/code&gt; and two instances of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;AzureAppServiceManage&lt;/code&gt; task to stop and start the jobs:&lt;/p&gt;

&lt;div class=&quot;note&quot;&gt;&lt;p&gt;you’ll need to replace the values between &amp;lt;..&amp;gt; in the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;variables&lt;/code&gt; section to specific values of your project&lt;/p&gt;
&lt;/div&gt;
&lt;script src=&quot;https://gist.github.com/1d47b7bf7e9a2b3806dbd0b0332743d2.js?file=azure-pipelines.yml&quot;&gt; &lt;/script&gt;

&lt;div class=&quot;note&quot;&gt;&lt;p&gt;I omitted some tasks from the original azure-pipelines.yml for simplicity. The original has a lot of others taks, as unit tests and web api publishing&lt;/p&gt;
&lt;/div&gt;

&lt;h2 id=&quot;extra-points-graceful-shutdown&quot;&gt;Extra points (graceful shutdown)&lt;/h2&gt;
&lt;p&gt;Now that you’ve automate your WebJobs publishing, is a good idea improve your jobs to check if Azure has requested a shutdown. You can do this taks through the &lt;a href=&quot;https://docs.microsoft.com/en-us/azure/azure-functions/functions-dotnet-class-library#cancellation-tokens&quot;&gt;CancellationToken&lt;/a&gt; parameter passed to the job.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;A function can accept a CancellationToken parameter, which enables the operating system to notify your code when the function is about to be terminated. You can use this notification to make sure the function doesn’t terminate unexpectedly in a way that leaves data in an inconsistent state.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;further-reading&quot;&gt;Further reading&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://docs.microsoft.com/en-us/azure/devops/pipelines/tasks/utility/ftp-upload?view=azure-devops&quot;&gt;FTP Upload task&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://docs.microsoft.com/en-us/azure/devops/pipelines/tasks/deploy/azure-app-service-manage?view=azure-devops&quot;&gt;Azure App Service Manage task&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://blog.amitapple.com/post/2014/05/webjobs-graceful-shutdown&quot;&gt;WebJobs Graceful Shutdown&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://docs.microsoft.com/en-us/azure/devops/pipelines/yaml-schema?view=azure-devops&amp;amp;tabs=schema&quot;&gt;YAML schema reference&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://docs.microsoft.com/en-us/azure/devops/pipelines/build/variables?view=azure-devops&amp;amp;tabs=yaml&quot;&gt;Predefined variables&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

</content>
 </entry>
 
</feed>